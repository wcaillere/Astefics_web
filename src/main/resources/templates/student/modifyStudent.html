<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/headfiles.html :: headfiles (title='Astefics - modifier stagiaire')}"></head>
<body>
<nav th:replace="~{fragments/navbar.html :: navbar}"></nav>
<div class="text-center mt-3" style="color: cornflowerblue">
    <h1 class="mt-4">Modifier stagiaire</h1>
</div>
<form class="w-50 m-auto mt-4" id="idForm" method="post" th:action="@{/modifyStudent}" th:object="${student}">
    <input th:field="*{id}" th:value="${student.getId()}" type="hidden">
    <div>
        <label class="form-label">Prénom</label>
        <input class="form-control" id="firstname" placeholder="Prénom du stagiaire (40 caractères maximum)"
               th:field="*{firstname}">
    </div>
    <span id="firstnameError"
          style="color: red; visibility: hidden"
          th:text="${'Veuillez entrer un prénom valide (40 caractères maximum)'}"></span>
    <div class="mt-3">
        <label class="form-label">Nom</label>
        <input class="form-control" id="lastname" placeholder="Nom du stagiaire (40 caractères maximum)"
               th:field="*{lastname}">
        <span id="lastnameError"
              style="color: red; visibility: hidden"
              th:text="${'Veuillez entrer un prénom valide (40 caractères maximum)'}"></span>
    </div>
    <button class="btn btn-primary w-25 m-auto mt-3" type="submit">Valider</button>
</form>

<script>
    let form = $("#idForm");

    form.on("submit", function (e) {
        e.preventDefault();

        if (validatePerson()) {
            e.currentTarget.submit();
        }
    })
</script>
<script th:src="@{/js/validation.js}"></script>
</body>
</html>